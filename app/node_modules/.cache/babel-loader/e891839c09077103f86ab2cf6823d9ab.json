{"ast":null,"code":"import _classCallCheck from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from \"react\";\n\nvar Timer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Timer, _Component);\n\n  function Timer() {\n    var _this;\n\n    _classCallCheck(this, Timer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Timer).call(this));\n    _this.config = [{\n      segmentType: \"work\",\n      segmentLength: 1200\n    }, {\n      segmentType: \"break\",\n      segmentLength: 300\n    }, {\n      segmentType: \"work\",\n      segmentLength: 1200\n    }, {\n      segmentType: \"break\",\n      segmentLength: 300\n    }, {\n      segmentType: \"work\",\n      segmentLength: 1200\n    }, {\n      segmentType: \"break\",\n      segmentLength: 300\n    }, {\n      segmentType: \"work\",\n      segmentLength: 1200\n    }];\n    var persistedStateString = window.localStorage.getItem(\"pomodoro.state\");\n    _this.state = persistedStateString ? JSON.parse(persistedStateString) : {\n      clock: 1,\n      started: false\n    };\n    return _this;\n  }\n\n  _createClass(Timer, [{\n    key: \"setClockInterval\",\n    value: function setClockInterval() {\n      var _this2 = this;\n\n      this.clockInterval = setInterval(function () {\n        _this2.setState({\n          clock: _this2.state.clock + 1\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"resetClock\",\n    value: function resetClock() {\n      clearInterval(this.clockInterval);\n      this.setState({\n        started: false,\n        clock: 1\n      });\n    }\n  }, {\n    key: \"startClock\",\n    value: function startClock() {\n      this.setState({\n        started: true\n      });\n      this.setClockInterval();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // if state is booted from local storage\n      if (this.state.started) {\n        this.setClockInterval();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      window.localStorage.setItem(\"pomodoro.state\", JSON.stringify(this.state));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.render(this.state);\n    }\n  }]);\n\n  return Timer;\n}(Component);","map":{"version":3,"sources":["/Users/adamwatters/tfw/src/components/Timer.js"],"names":["React","Component","Timer","config","segmentType","segmentLength","persistedStateString","window","localStorage","getItem","state","JSON","parse","clock","started","clockInterval","setInterval","setState","clearInterval","setClockInterval","setItem","stringify","props","render"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,K;;;;;AACJ,mBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,MAAL,GAAc,CACZ;AAAEC,MAAAA,WAAW,EAAE,MAAf;AAAuBC,MAAAA,aAAa,EAAE;AAAtC,KADY,EAEZ;AAAED,MAAAA,WAAW,EAAE,OAAf;AAAwBC,MAAAA,aAAa,EAAE;AAAvC,KAFY,EAGZ;AAAED,MAAAA,WAAW,EAAE,MAAf;AAAuBC,MAAAA,aAAa,EAAE;AAAtC,KAHY,EAIZ;AAAED,MAAAA,WAAW,EAAE,OAAf;AAAwBC,MAAAA,aAAa,EAAE;AAAvC,KAJY,EAKZ;AAAED,MAAAA,WAAW,EAAE,MAAf;AAAuBC,MAAAA,aAAa,EAAE;AAAtC,KALY,EAMZ;AAAED,MAAAA,WAAW,EAAE,OAAf;AAAwBC,MAAAA,aAAa,EAAE;AAAvC,KANY,EAOZ;AAAED,MAAAA,WAAW,EAAE,MAAf;AAAuBC,MAAAA,aAAa,EAAE;AAAtC,KAPY,CAAd;AASA,QAAMC,oBAAoB,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,gBAA5B,CAA7B;AACA,UAAKC,KAAL,GAAaJ,oBAAoB,GAC7BK,IAAI,CAACC,KAAL,CAAWN,oBAAX,CAD6B,GAE7B;AACEO,MAAAA,KAAK,EAAE,CADT;AAEEC,MAAAA,OAAO,EAAE;AAFX,KAFJ;AAZY;AAkBb;;;;uCACkB;AAAA;;AACjB,WAAKC,aAAL,GAAqBC,WAAW,CAAC,YAAM;AACrC,QAAA,MAAI,CAACC,QAAL,CAAc;AACZJ,UAAAA,KAAK,EAAE,MAAI,CAACH,KAAL,CAAWG,KAAX,GAAmB;AADd,SAAd;AAGD,OAJ+B,EAI7B,IAJ6B,CAAhC;AAKD;;;iCAEY;AACXK,MAAAA,aAAa,CAAC,KAAKH,aAAN,CAAb;AACA,WAAKE,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE,KAAX;AAAkBD,QAAAA,KAAK,EAAE;AAAzB,OAAd;AACD;;;iCAEY;AACX,WAAKI,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKK,gBAAL;AACD;;;wCAEmB;AAClB;AACA,UAAI,KAAKT,KAAL,CAAWI,OAAf,EAAwB;AACtB,aAAKK,gBAAL;AACD;AACF;;;yCAEoB;AACnBZ,MAAAA,MAAM,CAACC,YAAP,CAAoBY,OAApB,CAA4B,gBAA5B,EAA8CT,IAAI,CAACU,SAAL,CAAe,KAAKX,KAApB,CAA9C;AACD;;;6BAEQ;AACP,aAAO,KAAKY,KAAL,CAAWC,MAAX,CAAkB,KAAKb,KAAvB,CAAP;AACD;;;;EAnDiBT,S","sourcesContent":["import React, { Component } from \"react\";\n\nclass Timer extends Component {\n  constructor() {\n    super();\n    this.config = [\n      { segmentType: \"work\", segmentLength: 1200 },\n      { segmentType: \"break\", segmentLength: 300 },\n      { segmentType: \"work\", segmentLength: 1200 },\n      { segmentType: \"break\", segmentLength: 300 },\n      { segmentType: \"work\", segmentLength: 1200 },\n      { segmentType: \"break\", segmentLength: 300 },\n      { segmentType: \"work\", segmentLength: 1200 }\n    ];\n    const persistedStateString = window.localStorage.getItem(\"pomodoro.state\");\n    this.state = persistedStateString\n      ? JSON.parse(persistedStateString)\n      : {\n          clock: 1,\n          started: false\n        };\n  }\n  setClockInterval() {\n    this.clockInterval = setInterval(() => {\n      this.setState({\n        clock: this.state.clock + 1\n      });\n    }, 1000);\n  }\n\n  resetClock() {\n    clearInterval(this.clockInterval);\n    this.setState({ started: false, clock: 1 });\n  }\n\n  startClock() {\n    this.setState({ started: true });\n    this.setClockInterval();\n  }\n\n  componentDidMount() {\n    // if state is booted from local storage\n    if (this.state.started) {\n      this.setClockInterval();\n    }\n  }\n\n  componentDidUpdate() {\n    window.localStorage.setItem(\"pomodoro.state\", JSON.stringify(this.state));\n  }\n\n  render() {\n    return this.props.render(this.state);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}