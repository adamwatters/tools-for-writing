{"ast":null,"code":"import _toConsumableArray from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adamwatters/tfw/src/pages/Onward.js\";\nimport React, { Component } from \"react\";\nimport Tomato from \"../components/Tomato\";\nimport { mmddyyyy } from \"../utilities/datetime.ts\";\n\nvar BigPicture =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BigPicture, _Component);\n\n  function BigPicture() {\n    var _this;\n\n    _classCallCheck(this, BigPicture);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BigPicture).call(this));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(BigPicture, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var committed = this.props.committed || [];\n      var blob = new Blob([[\"\\n\"].concat(_toConsumableArray(committed.map(function (c) {\n        return c === \"<NEWPARAGRAPH>\" ? \"\\n\\n\" : c;\n      }))).join(\" \")], // Blob parts.\n      {\n        type: \"text/plain;charset=utf-8\"\n      });\n      var downloadUrl = URL.createObjectURL(blob);\n      var paragraphs = committed.reduce(function (a, e, i) {\n        return e === \"<NEWPARAGRAPH>\" ? [].concat(_toConsumableArray(a), [i]) : a;\n      }, [0]).map(function (newParagraphIndex, index, arrayOfIndexes) {\n        if (newParagraphIndex === arrayOfIndexes.length - 1) {\n          return committed.slice(newParagraphIndex);\n        } else {\n          console.log(\"start\", newParagraphIndex);\n          console.log(\"end\", arrayOfIndexes[newParagraphIndex]);\n          return committed.slice(newParagraphIndex, arrayOfIndexes[index + 1]);\n        }\n      }).map(function (paragraphSubArray) {\n        return paragraphSubArray.filter(function (s) {\n          return s !== \"<NEWPARAGRAPH>\";\n        }).join(\" \").trim();\n      });\n      console.log(\"paragraphs\", paragraphs);\n      console.log(\"committed\", committed);\n      return React.createElement(\"div\", {\n        onMouseEnter: function onMouseEnter() {\n          if (committed.length) {\n            _this2.setState({\n              active: true\n            });\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          _this2.setState({\n            active: false\n          });\n        },\n        style: {\n          width: \"280px\",\n          position: \"absolute\",\n          right: 0,\n          top: 0,\n          fontSize: \"6px\",\n          lineHeight: \"10px\",\n          opacity: 0.8,\n          cursor: \"pointer\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, paragraphs.map(function (p, i) {\n        return React.createElement(\"p\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, p);\n      }), React.createElement(\"div\", {\n        download: \"tfw-ow-\".concat(mmddyyyy(), \".txt\"),\n        onClick: this.props.clearCommitted,\n        style: {\n          position: \"absolute\",\n          left: \"0\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          fontSize: \"18px\",\n          right: \"50%\",\n          top: 0,\n          bottom: 0,\n          color: \"black\",\n          textDecoration: \"none\",\n          transition: \"opacity 300ms\",\n          backgroundColor: \"white\",\n          opacity: this.state.active ? 0.8 : 0,\n          pointerEvents: this.state.active ? \"auto\" : \"none\",\n          cursor: \"pointer\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Clear\")), React.createElement(\"a\", {\n        download: \"tfw-ow-\".concat(mmddyyyy(), \".txt\"),\n        href: downloadUrl,\n        style: {\n          position: \"absolute\",\n          left: \"50%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          fontSize: \"18px\",\n          right: \"0\",\n          top: 0,\n          bottom: 0,\n          color: \"black\",\n          textDecoration: \"none\",\n          transition: \"opacity 300ms\",\n          backgroundColor: \"white\",\n          opacity: this.state.active ? 0.8 : 0,\n          pointerEvents: this.state.active ? \"auto\" : \"none\",\n          cursor: \"pointer\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Download\")));\n    }\n  }]);\n\n  return BigPicture;\n}(Component);\n\nvar OneWay =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(OneWay, _Component2);\n\n  function OneWay() {\n    var _this3;\n\n    _classCallCheck(this, OneWay);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(OneWay).call(this));\n    var persistedStateString = typeof window !== \"undefined\" ? window.localStorage.getItem(\"oneway.state\") : \"{}\";\n    _this3.state = persistedStateString ? JSON.parse(persistedStateString) : {\n      committed: [],\n      inTheWorks: \"\"\n    };\n    return _this3;\n  }\n\n  _createClass(OneWay, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (typeof window !== \"undefined\") {\n        window.localStorage.setItem(\"oneway.state\", JSON.stringify(this.state));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          committed = _this$state.committed,\n          inTheWorks = _this$state.inTheWorks;\n      return React.createElement(Tomato, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          position: \"absolute\",\n          left: \"30px\",\n          right: \"30px\",\n          top: \"30px\",\n          bottom: \"30px\",\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(BigPicture, {\n        clearCommitted: function clearCommitted() {\n          _this4.setState({\n            committed: []\n          });\n        },\n        committed: committed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          width: \"80%\",\n          maxWidth: \"500px\",\n          position: \"center\",\n          margin: \"0 auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        style: {\n          width: \"100%\",\n          padding: \"8px\",\n          outlineColor: \"lightgreen\"\n        },\n        type: \"text\",\n        value: inTheWorks,\n        onChange: function onChange(e) {\n          _this4.setState({\n            inTheWorks: e.target.value\n          });\n        },\n        onKeyDown: function onKeyDown(e) {\n          if (e.key === \"Enter\") {\n            var newFragment = inTheWorks === \"\" ? \"<NEWPARAGRAPH>\" : inTheWorks;\n\n            if (committed[committed.length - 1] !== \"<NEWPARAGRAPH>\" || inTheWorks !== \"\") {\n              _this4.setState({\n                committed: [].concat(_toConsumableArray(committed), [newFragment]),\n                inTheWorks: \"\"\n              });\n            }\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return OneWay;\n}(Component);\n\nexport default OneWay;","map":{"version":3,"sources":["/Users/adamwatters/tfw/src/pages/Onward.js"],"names":["React","Component","Tomato","mmddyyyy","BigPicture","state","committed","props","blob","Blob","map","c","join","type","downloadUrl","URL","createObjectURL","paragraphs","reduce","a","e","i","newParagraphIndex","index","arrayOfIndexes","length","slice","console","log","paragraphSubArray","filter","s","trim","setState","active","width","position","right","top","fontSize","lineHeight","opacity","cursor","p","clearCommitted","left","display","justifyContent","alignItems","bottom","color","textDecoration","transition","backgroundColor","pointerEvents","OneWay","persistedStateString","window","localStorage","getItem","JSON","parse","inTheWorks","setItem","stringify","flexDirection","maxWidth","margin","padding","outlineColor","target","value","key","newFragment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Tomato from \"../components/Tomato\";\nimport { mmddyyyy } from \"../utilities/datetime.ts\";\n\nclass BigPicture extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n  render() {\n    const committed = this.props.committed || [];\n    const blob = new Blob(\n      [\n        [\n          `\\n`,\n          ...committed.map(c => {\n            return c === \"<NEWPARAGRAPH>\" ? `\\n\\n` : c;\n          })\n        ].join(\" \")\n      ], // Blob parts.\n      {\n        type: \"text/plain;charset=utf-8\"\n      }\n    );\n    const downloadUrl = URL.createObjectURL(blob);\n    const paragraphs = committed\n      .reduce((a, e, i) => (e === \"<NEWPARAGRAPH>\" ? [...a, i] : a), [0])\n      .map((newParagraphIndex, index, arrayOfIndexes) => {\n        if (newParagraphIndex === arrayOfIndexes.length - 1) {\n          return committed.slice(newParagraphIndex);\n        } else {\n          console.log(\"start\", newParagraphIndex);\n          console.log(\"end\", arrayOfIndexes[newParagraphIndex]);\n          return committed.slice(newParagraphIndex, arrayOfIndexes[index + 1]);\n        }\n      })\n      .map(paragraphSubArray => {\n        return paragraphSubArray\n          .filter(s => s !== \"<NEWPARAGRAPH>\")\n          .join(\" \")\n          .trim();\n      });\n    console.log(\"paragraphs\", paragraphs);\n    console.log(\"committed\", committed);\n    return (\n      <div\n        onMouseEnter={() => {\n          if (committed.length) {\n            this.setState({ active: true });\n          }\n        }}\n        onMouseLeave={() => {\n          this.setState({ active: false });\n        }}\n        style={{\n          width: `280px`,\n          position: \"absolute\",\n          right: 0,\n          top: 0,\n          fontSize: \"6px\",\n          lineHeight: \"10px\",\n          opacity: 0.8,\n          cursor: \"pointer\"\n        }}\n      >\n        {paragraphs.map((p, i) => (\n          <p key={i}>{p}</p>\n        ))}\n        <div\n          download={`tfw-ow-${mmddyyyy()}.txt`}\n          onClick={this.props.clearCommitted}\n          style={{\n            position: \"absolute\",\n            left: \"0\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"flex-start\",\n            fontSize: \"18px\",\n            right: \"50%\",\n            top: 0,\n            bottom: 0,\n            color: \"black\",\n            textDecoration: \"none\",\n            transition: \"opacity 300ms\",\n            backgroundColor: \"white\",\n            opacity: this.state.active ? 0.8 : 0,\n            pointerEvents: this.state.active ? \"auto\" : \"none\",\n            cursor: \"pointer\"\n          }}\n        >\n          <span>{`Clear`}</span>\n        </div>\n        <a\n          download={`tfw-ow-${mmddyyyy()}.txt`}\n          href={downloadUrl}\n          style={{\n            position: \"absolute\",\n            left: \"50%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"flex-start\",\n            fontSize: \"18px\",\n            right: \"0\",\n            top: 0,\n            bottom: 0,\n            color: \"black\",\n            textDecoration: \"none\",\n            transition: \"opacity 300ms\",\n            backgroundColor: \"white\",\n            opacity: this.state.active ? 0.8 : 0,\n            pointerEvents: this.state.active ? \"auto\" : \"none\",\n            cursor: \"pointer\"\n          }}\n        >\n          <span>{`Download`}</span>\n        </a>\n      </div>\n    );\n  }\n}\n\nclass OneWay extends Component {\n  constructor() {\n    super();\n    const persistedStateString =\n      typeof window !== `undefined`\n        ? window.localStorage.getItem(\"oneway.state\")\n        : \"{}\";\n    this.state = persistedStateString\n      ? JSON.parse(persistedStateString)\n      : {\n          committed: [],\n          inTheWorks: \"\"\n        };\n  }\n\n  componentDidUpdate() {\n    if (typeof window !== `undefined`) {\n      window.localStorage.setItem(\"oneway.state\", JSON.stringify(this.state));\n    }\n  }\n\n  render() {\n    const { committed, inTheWorks } = this.state;\n    return (\n      <Tomato>\n        <div\n          style={{\n            display: \"flex\",\n            position: \"absolute\",\n            left: \"30px\",\n            right: \"30px\",\n            top: \"30px\",\n            bottom: \"30px\",\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          }}\n        >\n          <BigPicture\n            clearCommitted={() => {\n              this.setState({ committed: [] });\n            }}\n            committed={committed}\n          />\n          <div\n            style={{\n              width: `80%`,\n              maxWidth: \"500px\",\n              position: \"center\",\n              margin: \"0 auto\"\n            }}\n          >\n            <input\n              style={{\n                width: \"100%\",\n                padding: \"8px\",\n                outlineColor: \"lightgreen\"\n              }}\n              type=\"text\"\n              value={inTheWorks}\n              onChange={e => {\n                this.setState({ inTheWorks: e.target.value });\n              }}\n              onKeyDown={e => {\n                if (e.key === \"Enter\") {\n                  const newFragment =\n                    inTheWorks === \"\" ? \"<NEWPARAGRAPH>\" : inTheWorks;\n                  if (\n                    committed[committed.length - 1] !== \"<NEWPARAGRAPH>\" ||\n                    inTheWorks !== \"\"\n                  ) {\n                    this.setState({\n                      committed: [...committed, newFragment],\n                      inTheWorks: \"\"\n                    });\n                  }\n                }\n              }}\n            />\n          </div>\n        </div>\n      </Tomato>\n    );\n  }\n}\n\nexport default OneWay;\n"]},"metadata":{},"sourceType":"module"}