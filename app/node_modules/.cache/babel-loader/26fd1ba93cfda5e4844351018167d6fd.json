{"ast":null,"code":"import _toConsumableArray from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adamwatters/tfw/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adamwatters/tfw/src/pages/Onward.js\";\nimport React, { Component } from \"react\";\nimport Tomato from \"../components/Tomato\";\nimport { mmddyyyy } from \"../utilities/datetime.ts\";\n\nvar BigPicture =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BigPicture, _Component);\n\n  function BigPicture() {\n    var _this;\n\n    _classCallCheck(this, BigPicture);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BigPicture).call(this));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(BigPicture, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var committed = this.props.committed || [];\n      var blob = new Blob([[\"   \"].concat(_toConsumableArray(committed.map(function (c) {\n        return c === \"<NEWPARAGRAPH>\" ? \"\\n\\n  \" : c;\n      }))).join(\" \")], // Blob parts.\n      {\n        type: \"text/plain;charset=utf-8\"\n      });\n      var downloadUrl = URL.createObjectURL(blob);\n      return React.createElement(\"div\", {\n        onMouseEnter: function onMouseEnter() {\n          if (committed.length) {\n            _this2.setState({\n              active: true\n            });\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          _this2.setState({\n            active: false\n          });\n        },\n        style: {\n          width: \"280px\",\n          position: \"absolute\",\n          right: 0,\n          top: 0,\n          fontSize: \"6px\",\n          lineHeight: \"10px\",\n          opacity: 0.8,\n          cursor: \"pointer\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          margin: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, committed.join(\" \")), React.createElement(\"div\", {\n        download: \"tfw-ow-\".concat(mmddyyyy(), \".txt\"),\n        onClick: this.props.clearCommitted,\n        style: {\n          position: \"absolute\",\n          left: \"0\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          fontSize: \"18px\",\n          right: \"50%\",\n          top: 0,\n          bottom: 0,\n          color: \"black\",\n          textDecoration: \"none\",\n          transition: \"opacity 300ms\",\n          backgroundColor: \"white\",\n          opacity: this.state.active ? 0.8 : 0,\n          pointerEvents: this.state.active ? \"auto\" : \"none\",\n          cursor: \"pointer\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Clear\")), React.createElement(\"a\", {\n        download: \"tfw-ow-\".concat(mmddyyyy(), \".txt\"),\n        href: downloadUrl,\n        style: {\n          position: \"absolute\",\n          left: \"50%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          fontSize: \"18px\",\n          right: \"0\",\n          top: 0,\n          bottom: 0,\n          color: \"black\",\n          textDecoration: \"none\",\n          transition: \"opacity 300ms\",\n          backgroundColor: \"white\",\n          opacity: this.state.active ? 0.8 : 0,\n          pointerEvents: this.state.active ? \"auto\" : \"none\",\n          cursor: \"pointer\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Download\")));\n    }\n  }]);\n\n  return BigPicture;\n}(Component);\n\nvar OneWay =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(OneWay, _Component2);\n\n  function OneWay() {\n    var _this3;\n\n    _classCallCheck(this, OneWay);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(OneWay).call(this));\n    var persistedStateString = typeof window !== \"undefined\" ? window.localStorage.getItem(\"oneway.state\") : \"{}\";\n    _this3.state = persistedStateString ? JSON.parse(persistedStateString) : {\n      committed: [],\n      inTheWorks: \"\"\n    };\n    return _this3;\n  }\n\n  _createClass(OneWay, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (typeof window !== \"undefined\") {\n        window.localStorage.setItem(\"oneway.state\", JSON.stringify(this.state));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          committed = _this$state.committed,\n          inTheWorks = _this$state.inTheWorks;\n      return React.createElement(Tomato, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          position: \"absolute\",\n          left: \"30px\",\n          right: \"30px\",\n          top: \"30px\",\n          bottom: \"30px\",\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(BigPicture, {\n        clearCommitted: function clearCommitted() {\n          _this4.setState({\n            committed: []\n          });\n        },\n        committed: committed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          width: \"80%\",\n          maxWidth: \"500px\",\n          position: \"center\",\n          margin: \"0 auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        style: {\n          width: \"100%\",\n          padding: \"8px\",\n          outlineColor: \"lightgreen\"\n        },\n        type: \"text\",\n        value: inTheWorks,\n        onChange: function onChange(e) {\n          _this4.setState({\n            inTheWorks: e.target.value\n          });\n        },\n        onKeyDown: function onKeyDown(e) {\n          if (e.key === \"Enter\") {\n            var newFragment = inTheWorks === \"\" ? \"<NEWPARAGRAPH>\" : inTheWorks;\n\n            _this4.setState({\n              committed: [].concat(_toConsumableArray(committed), [newFragment]),\n              inTheWorks: \"\"\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return OneWay;\n}(Component);\n\nexport default OneWay;","map":{"version":3,"sources":["/Users/adamwatters/tfw/src/pages/Onward.js"],"names":["React","Component","Tomato","mmddyyyy","BigPicture","state","committed","props","blob","Blob","map","c","join","type","downloadUrl","URL","createObjectURL","length","setState","active","width","position","right","top","fontSize","lineHeight","opacity","cursor","margin","clearCommitted","left","display","justifyContent","alignItems","bottom","color","textDecoration","transition","backgroundColor","pointerEvents","OneWay","persistedStateString","window","localStorage","getItem","JSON","parse","inTheWorks","setItem","stringify","flexDirection","maxWidth","padding","outlineColor","e","target","value","key","newFragment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Tomato from \"../components/Tomato\";\nimport { mmddyyyy } from \"../utilities/datetime.ts\";\n\nclass BigPicture extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n  render() {\n    const committed = this.props.committed || [];\n    const blob = new Blob(\n      [\n        [\n          \"   \",\n          ...committed.map(c => {\n            return c === \"<NEWPARAGRAPH>\" ? `\\n\\n  ` : c;\n          })\n        ].join(\" \")\n      ], // Blob parts.\n      {\n        type: \"text/plain;charset=utf-8\"\n      }\n    );\n    const downloadUrl = URL.createObjectURL(blob);\n    return (\n      <div\n        onMouseEnter={() => {\n          if (committed.length) {\n            this.setState({ active: true });\n          }\n        }}\n        onMouseLeave={() => {\n          this.setState({ active: false });\n        }}\n        style={{\n          width: `280px`,\n          position: \"absolute\",\n          right: 0,\n          top: 0,\n          fontSize: \"6px\",\n          lineHeight: \"10px\",\n          opacity: 0.8,\n          cursor: \"pointer\"\n        }}\n      >\n        <p style={{ margin: 0 }}>{committed.join(\" \")}</p>\n        <div\n          download={`tfw-ow-${mmddyyyy()}.txt`}\n          onClick={this.props.clearCommitted}\n          style={{\n            position: \"absolute\",\n            left: \"0\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"flex-start\",\n            fontSize: \"18px\",\n            right: \"50%\",\n            top: 0,\n            bottom: 0,\n            color: \"black\",\n            textDecoration: \"none\",\n            transition: \"opacity 300ms\",\n            backgroundColor: \"white\",\n            opacity: this.state.active ? 0.8 : 0,\n            pointerEvents: this.state.active ? \"auto\" : \"none\",\n            cursor: \"pointer\"\n          }}\n        >\n          <span>{`Clear`}</span>\n        </div>\n        <a\n          download={`tfw-ow-${mmddyyyy()}.txt`}\n          href={downloadUrl}\n          style={{\n            position: \"absolute\",\n            left: \"50%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"flex-start\",\n            fontSize: \"18px\",\n            right: \"0\",\n            top: 0,\n            bottom: 0,\n            color: \"black\",\n            textDecoration: \"none\",\n            transition: \"opacity 300ms\",\n            backgroundColor: \"white\",\n            opacity: this.state.active ? 0.8 : 0,\n            pointerEvents: this.state.active ? \"auto\" : \"none\",\n            cursor: \"pointer\"\n          }}\n        >\n          <span>{`Download`}</span>\n        </a>\n      </div>\n    );\n  }\n}\n\nclass OneWay extends Component {\n  constructor() {\n    super();\n    const persistedStateString =\n      typeof window !== `undefined`\n        ? window.localStorage.getItem(\"oneway.state\")\n        : \"{}\";\n    this.state = persistedStateString\n      ? JSON.parse(persistedStateString)\n      : {\n          committed: [],\n          inTheWorks: \"\"\n        };\n  }\n\n  componentDidUpdate() {\n    if (typeof window !== `undefined`) {\n      window.localStorage.setItem(\"oneway.state\", JSON.stringify(this.state));\n    }\n  }\n\n  render() {\n    const { committed, inTheWorks } = this.state;\n    return (\n      <Tomato>\n        <div\n          style={{\n            display: \"flex\",\n            position: \"absolute\",\n            left: \"30px\",\n            right: \"30px\",\n            top: \"30px\",\n            bottom: \"30px\",\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          }}\n        >\n          <BigPicture\n            clearCommitted={() => {\n              this.setState({ committed: [] });\n            }}\n            committed={committed}\n          />\n          <div\n            style={{\n              width: `80%`,\n              maxWidth: \"500px\",\n              position: \"center\",\n              margin: \"0 auto\"\n            }}\n          >\n            <input\n              style={{\n                width: \"100%\",\n                padding: \"8px\",\n                outlineColor: \"lightgreen\"\n              }}\n              type=\"text\"\n              value={inTheWorks}\n              onChange={e => {\n                this.setState({ inTheWorks: e.target.value });\n              }}\n              onKeyDown={e => {\n                if (e.key === \"Enter\") {\n                  const newFragment =\n                    inTheWorks === \"\" ? \"<NEWPARAGRAPH>\" : inTheWorks;\n                  this.setState({\n                    committed: [...committed, newFragment],\n                    inTheWorks: \"\"\n                  });\n                }\n              }}\n            />\n          </div>\n        </div>\n      </Tomato>\n    );\n  }\n}\n\nexport default OneWay;\n"]},"metadata":{},"sourceType":"module"}